<!DOCTYPE html>
<html><head>
    <meta charset="UTF-8">
    <title>  ClipboardEvent - integration with execCommand - returns false when not allowed to write to clipboard  - copy on document</title>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
    <script src="support/_lib.js"></script>
    <script>
/** integration with execCommand - returns false when not allowed to write to clipboard  */
/* Events: cut copy */

function clipboard_api_test(e){
    assert_unreached('document.execCommand() triggered from non-user-initiated script thread, events should not fire');
}
function onTestSetupReady(eventType){
    try{
        result(document.execCommand(eventType) === false);
    }catch(e){
        result('FAILED - exception from document.execCommand() when it was expected to return false');
    }
}

    </script>
</head>
<body>

    <p>FAILED (This TC requires JavaScript enabled)</p>
    <form><input id="input_text" autofocus onfocus="this.select()" value="copied text"></form>
    <div id="log"></div>
    <script>
    var dataToPaste='';
    var externalPassCondition=null;
    var eventTarget=document;
    var eventType='copy';
    window.onload=function(){
        setupTest( eventTarget, eventType, dataToPaste, externalPassCondition );
    }
    </script>
</body></html>
